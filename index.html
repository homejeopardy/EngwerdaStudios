<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Engwerda Studios</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: white;
      color: #b30000;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #b30000;
      color: white;
      padding: 20px;
      font-family: "American Typewriter", serif;
      font-size: 32px;
      font-weight: bold;
    }
    #login {
      margin-top: 100px;
    }
    .container {
      padding: 20px;
    }
    .item {
      display: inline-block;
      width: 120px;
      height: 120px;
      margin: 15px;
      border: 2px solid #b30000;
      border-radius: 12px;
      background-color: white;
      color: #b30000;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: transform 0.2s;
    }
    .item:hover {
      transform: scale(1.05);
      background-color: #ffe5e5;
    }
    .admin-panel {
      margin-top: 30px;
      padding: 20px;
      border-top: 2px solid #b30000;
    }
    input, button, textarea {
      margin: 8px;
      padding: 8px;
      border: 1px solid #b30000;
      border-radius: 6px;
      font-size: 14px;
    }
    button {
      background-color: #b30000;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #800000;
    }
    #about {
      margin-top: 40px;
      text-align: left;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
  <header>Engwerda Studios</header>
  <div id="login">
    <h2>Enter Password</h2>
    <input type="password" id="passwordInput" placeholder="Password">
    <button onclick="checkPassword()">Enter</button>
  </div>

  <div id="main" style="display:none;">
    <div class="container" id="fileContainer"></div>
    <div id="about">
      <h2>About Engwerda Studios</h2>
      <p id="aboutContent">
        Engwerda Studios is a creative hub dedicated to producing high-quality projects in film, music, and design. 
        We believe in the power of storytelling, innovation, and collaboration. Our studio combines passion with professionalism 
        to bring ideas to life and share them with the world.
      </p>
    </div>
  </div>

  <div id="admin" style="display:none;">
    <h2>Admin Panel</h2>
    <div class="admin-panel">
      <h3>Add Folder</h3>
      <input type="text" id="folderName" placeholder="Folder Name">
      <button onclick="addFolder()">Add</button>

      <h3>Add Link</h3>
      <input type="text" id="linkName" placeholder="Link Name">
      <input type="text" id="linkURL" placeholder="Link URL">
      <button onclick="addLink()">Add</button>

      <h3>Edit About Section</h3>
      <textarea id="aboutEditor" rows="5" cols="50"></textarea><br>
      <button onclick="saveAbout()">Save About</button>
    </div>
    <div class="container" id="adminFileContainer"></div>
  </div>

  <script>
    let currentPath = [];
    let isAdmin = false;

    // Load data from localStorage or set defaults
    let data = JSON.parse(localStorage.getItem("engwerdaData")) || {
      folders: {},
      links: [],
      about: document.getElementById("aboutContent").innerText
    };

    function checkPassword() {
      const pass = document.getElementById("passwordInput").value;
      if (pass === "Austin") {
        document.getElementById("login").style.display = "none";
        document.getElementById("main").style.display = "block";
        isAdmin = false;
        renderFiles();
      } else if (pass === "Admin") {
        document.getElementById("login").style.display = "none";
        document.getElementById("admin").style.display = "block";
        isAdmin = true;
        renderFiles(true);
        document.getElementById("aboutEditor").value = data.about;
      } else {
        alert("Incorrect password!");
      }
    }

    function renderFiles(admin=false) {
      const container = document.getElementById(admin ? "adminFileContainer" : "fileContainer");
      container.innerHTML = "";

      let folder = data.folders;
      for (let part of currentPath) {
        folder = folder[part].folders;
      }

      // Folders
      for (let f in folder) {
        let div = document.createElement("div");
        div.className = "item";
        div.innerText = f;
        div.onclick = () => {
          currentPath.push(f);
          renderFiles(admin);
        };
        container.appendChild(div);
      }

      // Links
      let links = admin ? data.links : data.links;
      for (let link of links) {
        let div = document.createElement("div");
        div.className = "item";
        div.innerText = link.name;
        div.onclick = () => window.open(link.url, "_blank");
        container.appendChild(div);
      }
    }

    function addFolder() {
      const name = document.getElementById("folderName").value.trim();
      if (!name) return alert("Folder name required.");
      if (!data.folders[name]) data.folders[name] = { folders: {}, links: [] };
      saveData();
      renderFiles(true);
    }

    function addLink() {
      const name = document.getElementById("linkName").value.trim();
      const url = document.getElementById("linkURL").value.trim();
      if (!name || !url) return alert("Both fields required.");
      data.links.push({ name, url });
      saveData();
      renderFiles(true);
    }

    function saveAbout() {
      data.about = document.getElementById("aboutEditor").value;
      document.getElementById("aboutContent").innerText = data.about;
      saveData();
      alert("About section updated!");
    }

    function saveData() {
      localStorage.setItem("engwerdaData", JSON.stringify(data));
    }
  </script>
</body>
</html>
